/**
  * cliRunner v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const{log:s}=console;function o(){return{helpmsg:"usage:ns option",argvIndexS:2,enbaleSubCmd:!1,subcmd:"",allowAutoSubCmd:!0,autoSubCmd:"",version:"1.0.0",ns:"ycs",enbaleSubNs:!1,subns:"",allowAutoSubNs:!0,autoSubNs:""}}class n{constructor(){this.option={helpmsg:"usage:ns option",argvIndexS:2,enbaleSubCmd:!1,subcmd:"",allowAutoSubCmd:!0,autoSubCmd:"",version:"1.0.0",ns:"ycs",enbaleSubNs:!1,subns:"",allowAutoSubNs:!0,autoSubNs:""}}ns(s="ycs"){return this.option.ns=s,this}version(s="1.0.0"){return this.option.version=s,this}entry(s={},o="version,ns,autoSubCmd,autoSubNs"){const n=this;return s.option&&(n.option={...n.option,...s.option}),o.split(",").forEach((o=>{s[o]&&(n.option[o]=s[o])})),n.option.entrys=s,this}autosubcmd(s=""){return this.option.autoSubCmd=s,this}autosubns(s=""){return this.option.autoSubNs=s,this}nanoparse(s=(()=>{})){return this.option.nanoparse=s,this}checkSubnsEnable(){}checkSubCmdEnable(){}checkExpectArgvStart(){}run(o){let{entrys:n,helpmsg:e,argvIndexS:t,enbaleSubCmd:u,subcmd:r,allowAutoSubCmd:i,autoSubCmd:a,version:l,ns:b,enbaleSubNs:p,subns:c,allowAutoSubNs:d,autoSubNs:S,nanoparse:h}=this.option;!p&&d&&S&&(S=Array.isArray(S)?S:S.split("|"),p=S.includes(o[t])),p&&(c=o[t],t+=1,e=e.replace(/option$/,"subns option")),!u&&i&&a&&(a=Array.isArray(a)?a:a.split("|"),u=a.includes(o[t])),u&&(r=o[t],t+=1,e=e.replace(/option$/,"subcmd option"));let g=n;if(e=n.usage,p&&c){if(!g[c])return s(`${e}`),void s(`todo:subns:${c}`);e=g[c].usage?g[c].usage:e,l=g[c].version?g[c].version:l,g=g[c]?g[c]:()=>{}}if(u&&r){if(!g[r])return s(`${e}`),void s(`todo:subcmd:${r}`);e=g[r].usage?g[r].usage:e,l=g[r].version?g[r].version:l,g=g[r]?g[r]:()=>{}}let v=o.length<=t;if(n.enableZeroOption&&(v=o.length<t),g.enableZeroOption&&(v=o.length<t),v)return s(`${e}`),void s("error:invalid argv length");const m=(h||(s=>s))(o.slice(t)),y=m.flags;if((y.debugArgs||y.da)&&s(m),y.version||y.v)s(`${b} version:${l}`);else{if(!y.help&&!y.h)return n.notOnlyFlags||g.notOnlyFlags?g(m):g(y);s(`${e}`)}}}const e=new n;exports.YcsRunner=n,exports.getDefaultOption=o,exports.ycsRunner=e;
