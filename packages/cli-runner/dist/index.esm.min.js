/**
  * cliRunner v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
const{log:o}=console;function s(){return{helpmsg:"usage:ns option",argvIndexS:2,enbaleSubCmd:!1,subcmd:"",allowAutoSubCmd:!0,autoSubCmd:"",version:"1.0.0",ns:"ycs",enbaleSubNs:!1,subns:"",allowAutoSubNs:!0,autoSubNs:""}}class n{constructor(){this.option={helpmsg:"usage:ns option",argvIndexS:2,enbaleSubCmd:!1,subcmd:"",allowAutoSubCmd:!0,autoSubCmd:"",version:"1.0.0",ns:"ycs",enbaleSubNs:!1,subns:"",allowAutoSubNs:!0,autoSubNs:""}}ns(o="ycs"){return this.option.ns=o,this}version(o="1.0.0"){return this.option.version=o,this}entry(o={},s="version,ns,autoSubCmd,autoSubNs"){const n=this;return o.option&&(n.option={...n.option,...o.option}),s.split(",").forEach((s=>{o[s]&&(n.option[s]=o[s])})),n.option.entrys=o,this}autosubcmd(o=""){return this.option.autoSubCmd=o,this}autosubns(o=""){return this.option.autoSubNs=o,this}nanoparse(o=(()=>{})){return this.option.nanoparse=o,this}checkSubnsEnable(){}checkSubCmdEnable(){}checkExpectArgvStart(){}run(s){let{entrys:n,helpmsg:t,argvIndexS:e,enbaleSubCmd:u,subcmd:i,allowAutoSubCmd:r,autoSubCmd:a,version:l,ns:b,enbaleSubNs:p,subns:c,allowAutoSubNs:d,autoSubNs:S,nanoparse:h}=this.option;!p&&d&&S&&(S=Array.isArray(S)?S:S.split("|"),p=S.includes(s[e])),p&&(c=s[e],e+=1,t=t.replace(/option$/,"subns option")),!u&&r&&a&&(a=Array.isArray(a)?a:a.split("|"),u=a.includes(s[e])),u&&(i=s[e],e+=1,t=t.replace(/option$/,"subcmd option"));let g=n;if(t=n.usage,p&&c){if(!g[c])return o(`${t}`),void o(`todo:subns:${c}`);t=g[c].usage?g[c].usage:t,l=g[c].version?g[c].version:l,g=g[c]?g[c]:()=>{}}if(u&&i){if(!g[i])return o(`${t}`),void o(`todo:subcmd:${i}`);t=g[i].usage?g[i].usage:t,l=g[i].version?g[i].version:l,g=g[i]?g[i]:()=>{}}let v=s.length<=e;if(n.enableZeroOption&&(v=s.length<e),g.enableZeroOption&&(v=s.length<e),v)return o(`${t}`),void o("error:invalid argv length");const m=(h||(o=>o))(s.slice(e)),y=m.flags;if((y.debugArgs||y.da)&&o(m),y.version||y.v)o(`${b} version:${l}`);else{if(!y.help&&!y.h)return n.notOnlyFlags||g.notOnlyFlags?g(m):g(y);o(`${t}`)}}}const t=new n;export{n as YcsRunner,s as getDefaultOption,t as ycsRunner};
