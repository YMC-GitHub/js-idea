/**
  * cliRunner v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self)["cli-runner"]={})}(this,(function(n){"use strict";const{log:e}=console;function o(){return{helpmsg:"usage:ns option",argvIndexS:2,enbaleSubCmd:!1,subcmd:"",allowAutoSubCmd:!0,autoSubCmd:"",version:"1.0.0",ns:"ycs",enbaleSubNs:!1,subns:"",allowAutoSubNs:!0,autoSubNs:""}}class s{constructor(){this.option={helpmsg:"usage:ns option",argvIndexS:2,enbaleSubCmd:!1,subcmd:"",allowAutoSubCmd:!0,autoSubCmd:"",version:"1.0.0",ns:"ycs",enbaleSubNs:!1,subns:"",allowAutoSubNs:!0,autoSubNs:""}}ns(n="ycs"){return this.option.ns=n,this}version(n="1.0.0"){return this.option.version=n,this}entry(n={},e="version,ns,autoSubCmd,autoSubNs"){const o=this;return n.option&&(o.option={...o.option,...n.option}),e.split(",").forEach((e=>{n[e]&&(o.option[e]=n[e])})),o.option.entrys=n,this}autosubcmd(n=""){return this.option.autoSubCmd=n,this}autosubns(n=""){return this.option.autoSubNs=n,this}nanoparse(n=(()=>{})){return this.option.nanoparse=n,this}checkSubnsEnable(){}checkSubCmdEnable(){}checkExpectArgvStart(){}run(n){let{entrys:o,helpmsg:s,argvIndexS:t,enbaleSubCmd:u,subcmd:i,allowAutoSubCmd:r,autoSubCmd:a,version:l,ns:b,enbaleSubNs:p,subns:d,allowAutoSubNs:c,autoSubNs:h,nanoparse:g}=this.option;!p&&c&&h&&(h=Array.isArray(h)?h:h.split("|"),p=h.includes(n[t])),p&&(d=n[t],t+=1,s=s.replace(/option$/,"subns option")),!u&&r&&a&&(a=Array.isArray(a)?a:a.split("|"),u=a.includes(n[t])),u&&(i=n[t],t+=1,s=s.replace(/option$/,"subcmd option"));let S=o;if(s=o.usage,p&&d){if(!S[d])return e(`${s}`),void e(`todo:subns:${d}`);s=S[d].usage?S[d].usage:s,l=S[d].version?S[d].version:l,S=S[d]?S[d]:()=>{}}if(u&&i){if(!S[i])return e(`${s}`),void e(`todo:subcmd:${i}`);s=S[i].usage?S[i].usage:s,l=S[i].version?S[i].version:l,S=S[i]?S[i]:()=>{}}let f=n.length<=t;if(o.enableZeroOption&&(f=n.length<t),S.enableZeroOption&&(f=n.length<t),f)return e(`${s}`),void e("error:invalid argv length");const m=(g||(n=>n))(n.slice(t)),v=m.flags;if((v.debugArgs||v.da)&&e(m),v.version||v.v)e(`${b} version:${l}`);else{if(!v.help&&!v.h)return o.notOnlyFlags||S.notOnlyFlags?S(m):S(v);e(`${s}`)}}}const t=new s;n.YcsRunner=s,n.getDefaultOption=o,n.ycsRunner=t,Object.defineProperty(n,"__esModule",{value:!0})}));
