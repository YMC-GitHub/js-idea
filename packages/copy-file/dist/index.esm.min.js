/**
  * copyFile v0.0.1
  * (c) 2018-2022 ymc
  * @license MIT
  */
import{existsSync as t,mkdirSync as s,createReadStream as e,createWriteStream as n}from"node:fs";const o=(o,i)=>new Promise(((r,l)=>{o&&t(o)||r(),i||r(),t(i)&&r();const p=function(t,s={}){const{split:e,splitReg:n}={splitReg:/\/|\\/,split:"/",...s};let o=t.split(n||e);const{length:i}=o;i>1?(o=o.slice(0,i-1),o=o.join(e)):o="";return o}(i);!p||"./"===p&&"."===p||s(p,{recursive:!0});const c=e(o),f=n(i);f.on("finish",(()=>{r(i)})).on("error",l),c.pipe(f)}));export{o as default};
