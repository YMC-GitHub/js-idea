/**
  * gitCommitMsgParse v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
"use strict";function t(t){return void 0!==t}function e(t,e){const r=/\(.*\):?/gi;if(t.match(r))return t.split(":")[0].replace(r,"");let n=t.split(" ")[0].trim().replace(/\(.*\):?/gi,"").trim();return function(t,e="feat|fix|docs|style|refactor|preform|test|tool|chore|revert"){return r=t,e.split("|").some((t=>t===r));var r}(n,e)||(n=""),n}function r(t=""){const e=t.match(/\(.*\)/gi);let r="";return e&&([r]=e),r=r.replace(/(^\(|\)$)/gi,""),r}function n(e=""){let r;const n={body:e,foot:""};let i,o,c,s;r=e.replace(/\\\\n/gi,"\n"),i=function(t){return t.trim().split(/\r?\n/)}(r);for(let e=0;e<i.length;e+=1){const r=i[e];if(!t(o)&&r.match(/^BREAKING CHANGE/i)&&(o=e),!t(c)&&r.match(/^CLOSING ISSUE/i)&&(c=e),!t(s)&&r.match(/^generated by/i)&&(s=e),t(c)&&t(o)&&t(s))break}let l=-1;return t(c)||(c=-1),t(o)||(o=-1),t(s)||(s=-1),l=Math.max(c,o,s),l>=0&&l<=i.length&&(n.foot=i.slice(l).join("\n").trim(),n.body=l>0?i.slice(0,l).join("\n").trim():""),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIssueInFoot=function(t,e=/#\d+/gi){const r=t.match(e);let n=[];return r&&(n=r),n},exports.getScopeInSubject=r,exports.getTypeInSubject=e,exports.parse=function(t,i,o){let c,s,l,p;if(i)[l,p]=[t,i];else{const e=t.trim().split(/\r?\n/).map((t=>t.trim().split("\\n"))).flat(1).map((t=>t.trim()));[l]=e,p=e.slice(1).join("\n"),p||(p=l)}const a=n(p);return c=e(l,o),s=r(l),l=l.replace(c,"").replace(/\(.*\):?/i,"").trim(),{type:c,scope:s,subject:l,...a}},exports.parseMsgBody=n;
