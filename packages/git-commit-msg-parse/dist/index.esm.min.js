/**
  * gitCommitMsgParse v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
function t(t){return void 0!==t}function e(t,e){const r=/\(.*\):?/gi;if(t.match(r))return t.split(":")[0].replace(r,"");let n=t.split(" ")[0].trim().replace(/\(.*\):?/gi,"").trim();return function(t,e="feat|fix|docs|style|refactor|preform|test|tool|chore|revert"){return r=t,e.split("|").some((t=>t===r));var r}(n,e)||(n=""),n}function r(t=""){const e=t.match(/\(.*\)/gi);let r="";return e&&([r]=e),r=r.replace(/(^\(|\)$)/gi,""),r}function n(e=""){let r;const n={body:e,foot:""};let i,c,o,l;r=e.replace(/\\\\n/gi,"\n"),i=function(t){return t.trim().split(/\r?\n/)}(r);for(let e=0;e<i.length;e+=1){const r=i[e];if(!t(c)&&r.match(/^BREAKING CHANGE/i)&&(c=e),!t(o)&&r.match(/^CLOSING ISSUE/i)&&(o=e),!t(l)&&r.match(/^generated by/i)&&(l=e),t(o)&&t(c)&&t(l))break}let s=-1;return t(o)||(o=-1),t(c)||(c=-1),t(l)||(l=-1),s=Math.max(o,c,l),s>=0&&s<=i.length&&(n.foot=i.slice(s).join("\n").trim(),n.body=s>0?i.slice(0,s).join("\n").trim():""),n}function i(t,e=/#\d+/gi){const r=t.match(e);let n=[];return r&&(n=r),n}function c(t,i,c){let o,l,s,a;if(i)[s,a]=[t,i];else{const e=t.trim().split(/\r?\n/).map((t=>t.trim().split("\\n"))).flat(1).map((t=>t.trim()));[s]=e,a=e.slice(1).join("\n"),a||(a=s)}const m=n(a);return o=e(s,c),l=r(s),s=s.replace(o,"").replace(/\(.*\):?/i,"").trim(),{type:o,scope:l,subject:s,...m}}export{i as getIssueInFoot,r as getScopeInSubject,e as getTypeInSubject,c as parse,n as parseMsgBody};
