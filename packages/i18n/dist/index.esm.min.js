/**
  * i18n v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
function t(t){return s(t)&&!function(t){return""===t||null==t}(t)}function s(t){return"string"==typeof t}function i(t){return Array.isArray(t)}function n(t){return"object"==typeof t}class e{constructor(){this.aliasMap={},this.option={}}getAlias(t){return this.aliasMap[t]}hasAlias(t){const{aliasMap:s}=this,i=Object.keys(s);let n=!1;return n=0!==i.length&&i.some((i=>s[i].includes(t))),n}iniAlias(t){const{aliasMap:s}=this;return s[t]||(s[t]=[]),this}addAlias(i,e){const{option:a,aliasMap:r}=this;return t(i)?(Array.isArray(e)?e.forEach((t=>{this.addAlias(i,t)})):s(e)?t(e)&&(!1!==a.once&&this.hasAlias(e)||(this.iniAlias(i),r[i].push(e))):n(e)&&Object.keys(e).forEach((t=>{this.addAlias(i,t)})),this):this}getName(t){const{aliasMap:s}=this,i=[],n=Object.keys(s);if(this.hasAlias(t))for(let e=0;e<n.length;e+=1){const a=n[e];s[a].includes(t)&&i.push(a)}else i[0]=t;return i[0]}}class a extends e{constructor(){super(),this.data={},this.current="en",this.defaultLang="en"}lang(t){let s;return s=this,t?(s.current=t,this):s.current}translate(s,i){let n;const{defaultLang:e}=this;let a;if(n=this.getName(s),t(n)&&(a=this.set(n)),!t(a)&&t(i)&&(this.set(n,i),a=i),!a&&e){const t=this.lang();this.lang(e),a=this.set(n),this.lang(t)}return a}t(...t){return this.translate(...t)}set(t,e){let a=t;if(!a)return this;const r=this.lang();if(s(a)){if(a=this.getName(a),this.inilang(),!e)return this.data[r][a];if(s(e))return this.data[r][a]=e,this}return i(a)?a.forEach((t=>{if(i(t)){const[s,i]=t;this.set(s,i)}else n(t)&&this.set(t)})):n(a)&&Object.keys(a).forEach((t=>{const s=a[t];this.set(t,s)})),this}inilang(){const t=this.lang(),{data:s}=this;return function(t,s,i,n){!function(t,s,i){t&&t[s]||(t[s]=i)}(t,s,i)}(s,t,{}),this}}export{a as default};
