/**
  * moduleAlias v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
export{jsonstream}from"@ymc/json-stream-io";function e(e,t={}){const n={useRegexpPrefix:!0,useRegexpSuffix:!0,...t};if(!e.alias)return;const{alias:s}=e,r=Object.keys(s),i={};for(let e=0;e<r.length;e+=1){let t=r[e];if(t=t.trim(),!t)continue;let o=s[t];o&&(n.useRegexpPrefix&&(t=t.replace(/^\^?/,"^")),n.useRegexpSuffix&&(t=t.replace(/\$?$/,"(.+)$"),o=o.replace(/\\?1?$/,"\\1")),i[t]=o)}return i}function t(e,t={}){if(!e.alias)return;const{alias:n}=e,s=Object.keys(n);let r={};for(let e=0;e<s.length;e+=1){let t=s[e];if(t=t.trim(),!t)continue;const i=n[t];i&&(r[t]=[t,i])}return r=Object.values(r),r}function n(e,t={}){const n={useRegexpPrefix:!0,useRegexpSuffix:!0,...t};if(!e.alias)return;const{alias:s}=e,r=Object.keys(s),i={};for(let e=0;e<r.length;e+=1){let t=r[e];if(t=t.trim(),!t)continue;let o=s[t];o&&(n.useRegexpPrefix&&(t=t.replace(/^\^?/,"^"),o=o.replace(/^(\.\/)?/,"<rootDir>/")),n.useRegexpSuffix&&(t=t.replace(/\$?$/,"(.*?.?(js|vue)?|)$"),o=o.replace(/\\?1?$/,"$1")),i[t]=o)}return i}function s(e,t={}){const n={useRegexpPrefix:!0,useRegexpSuffix:!0,...t};if(!e.alias)return;const{alias:s}=e,r=Object.keys(s),i={};for(let e=0;e<r.length;e+=1){let t=r[e];if(t=t.trim(),!t)continue;let o=s[t];o&&(n.useRegexpSuffix&&(t=t.replace(/(\*)?$/,"*"),o=o.replace(/(\*)?$/,"*")),i[t]=[o])}return i}function r(e,t={}){const n={useRegexpPrefix:!0,useRegexpSuffix:!0,...t};if(!e.alias)return;const{alias:s}=e,r=Object.keys(s),i={};for(let e=0;e<r.length;e+=1){let t=r[e];if(t=t.trim(),!t)continue;let o=s[t];o&&(n.useRegexpPrefix&&(o=o.replace(/^(\.\/)?/,"${workspaceFolder}/")),i[t]=o)}return i}function i(e,t){return t.some((t=>t===e))}function o(e={},t="",n={}){const s={sep:".",...n},{val:r,sep:i}=s;let o=e;const l=t.split(i);if(l.length<=1)return o;const u=l.length-1,a=l[u];for(let e=0;e<u;e+=1){const t=l[e];o[t]||(o[t]={}),o=o[t]}return o&&void 0!==r&&(o[a]=r),o}function l(e,t=4){return JSON.stringify(e,null,t)}function u(e){let t={};const{plugins:n=[[]]}=e;for(let e=0;e<n.length;e+=1){const[s,r]=n[e];if("babel-plugin-module-resolver"===s){t=r;break}}return t}function a(e,t,n){let s=e[t];s=s?[...new Set([...n,...s])]:n,e[t]=s}function c(e){let t=e||[];return Array.isArray(t)?t:[t]}function f(e){return e.map((e=>e.replace(/^./,"")))}function p(e,t){e.plugins||(e.plugins=[]);const{plugins:n=[]}=e;let s=!1;const r=["node_modules","./"],i=["require","require.resolve","System.import","jest.genMockFromModule","jest.mock","jest.unmock","jest.doMock","jest.dontMock"];for(let e=0;e<n.length;e+=1){let[o,l]=n[e];if("babel-plugin-module-resolver"===o){l||(l={}),l={...l,...t},a(l,"transformFunctions",i),a(l,"root",r),n[e]=[o,l],s=!0;break}}if(!s){let e={...t};a(e,"transformFunctions",i),a(e,"root",r),n.push(["babel-plugin-module-resolver",e])}return e}function x(e,t){let n;return n=o(e,"settings.import/resolver.alias",{}),n=n.alias,a(n,"extensions",[".ts",".tsx",".js",".jsx",".json",".vue"]),a(n,"extensions",c(t.extensions)),e}function g(e,t){return e["path-intellisense.mappings"]=t,e}function m(e,t){let n=[".ts",".tsx",".js",".jsx",".json",".vue"];return n=f(n),e.moduleNameMapper=t.map,a(e,"moduleFileExtensions",n),a(e,"moduleFileExtensions",f(c(t.extensions))),e}function h(e,t){let n=o(e,"compilerOptions");return n=n.compilerOptions,n.paths=t.map,t.root&&(n.baseUrl=t.root),e}class d{constructor(){this.data={}}cwd(e){const{data:t}=this;if(!i(e,["packagejson","babelrc",""]))return this;if(""===e)delete t.cwd;else t.cwd=e;return this}root(e){if(!e)return this;let{data:{root:t}}=this;return t||(t=[]),i(e,t)||(t.push(e),this.data.root=t),this}alias(e,t,n){if(!e)return this;if(!t)return this;let{data:{alias:s}}=this;return s||(s={}),s[e]=t,this.data.alias=s,this}}export{d as BabelbabelAliasDefineEng,u as getModuleAliasInBabelConfig,l as hunmanJson,e as ma2babel,t as ma2eslint,n as ma2jest,s as ma2jsconfig,s as ma2tsconfig,r as ma2vscodeconfig,p as setModuleAliasToBabelConfig,x as setModuleAliasToEslintConfig,m as setModuleAliasToJest,h as setModuleAliasToJsconfig,g as setModuleAliasToVscodeSettings};
