/**
  * readDiretory v0.0.1
  * (c) 2018-2022 ymc
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("fs"),require("path")):"function"==typeof define&&define.amd?define(["exports","fs","path"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["read-diretory"]={},e.fs,e.path)}(this,(function(e,t,n){"use strict";const{log:r}=console,i=e=>t.statSync(e).isDirectory();function o(e){if(!e)return!1;let t=typeof e;return!["boolean","string","number","function"].some((e=>e==t))&&!("object"!=t||!e.test)}function f(e){return"file_text"==e}function s(e){console.log(`found in:${e}`)}let u=[];e.getDstDir=function e(l,c){let[d,p]=function(e){let t,n;if(!e)return[];if(o(e))t=e,n={parsed:!0,regexp:t},r(e,t,o(e));else{if(!o(e.regexp))return[];t=e.regexp,n=e,n.parsed=!0}return[t,n]}(c);if(!d||!p)return u;if(p={mode:"file",...p},!i(l)&&("file"!=p.mode&&!f(p.mode)))return u;const a=n.basename(l);if(function(e){return Array.isArray(e)}(p.excludes)&&p.excludes.includes(a))return u;if(p.excludesRegexp&&p.excludesRegexp.test(a))return u;if(d.test(a)&&!f(p.mode))return p.log&&s(l),u.push(l),u;if(f(p.mode)&&(x=l,t.statSync(x).isFile())){const e=t.readFileSync(l);if(p.fileTextRegexp&&p.fileTextRegexp.test(e))return p.log&&s(l),u.push(l),u}var x;if(!i(l))return u;const g=t.readdirSync(l);return g.length>0&&g.forEach((t=>{e(n.join(l,t),p)})),u},Object.defineProperty(e,"__esModule",{value:!0})}));
