/**
  * runBash v0.0.3
  * (c) 2018-2022 ymc
  * @license MIT
  */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("child_process")):"function"==typeof define&&define.amd?define(["exports","child_process"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self)["run-bash"]={},e.child_process)}(this,(function(e,n){"use strict";const o=e=>(n,o="cp936",i="binary")=>(e.skipDecodeWarning=!0,e.decode(Buffer.from(n,i),o));function i(e){return e.split(/\r?\n/).map((e=>e.trim())).filter((e=>e)).join("\n")}const r={exec:n.exec};e.defFixUnreadbleCode=o,e.exec=(e,o,r)=>new Promise(((c,t)=>{r||(r=o,o=e,e="");const d=((e,n=" ")=>Array.isArray(e)?e.join(n):e)(o);(r.exec?r.exec:n.exec)(`${e=e?`${e} ${d}`:`${d}`}`,r,((e,n,o)=>{let{fixUnreadbleCode:d}=r;if(d){let{iconvDesEncoding:e,iconvSrcEncoding:i}=r;n&&(n=d(n,e,i)),o&&(o=d(o,e,i))}e&&r.exitWhenErr&&t(e),r.noTrimOut||(n=i(n),o=i(o)),r.rejectStderr&&(o&&t(e),c(n)),c({stdout:n,stderr:o})}))})),e.execOpts=r,e.setExecOptsForIconv=(e,n)=>{n.encoding="buffer",n.iconvDesEncoding="cp936",n.iconvSrcEncoding="binary",n.fixUnreadbleCode=o(e)},Object.defineProperty(e,"__esModule",{value:!0})}));
