/**
  * textStreamIo v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
import{createReadStream as t,createWriteStream as a}from"node:fs";import{readStream as e,writeStream as i}from"@ymc/stream-io";class n{constructor(t="CHANGELO.md"){this.init(t)}async read(a=""){const{file:i}=this;let n,r;try{n=t(i.name),r=await e(n)}catch(t){r=a}return i.data=r,r}async write(t){const{file:e,option:n}=this;let r,s,o;switch(r=a(e.name),s=e.data,n.writemode){case"override":default:o=`${t}`;break;case"append":o=`${s}\n${t}`;break;case"head":o=`${t}\n${s}`}e.data=o,await i({stream:r,data:o})}init(t="CHANGELO.md",a=""){return this.file={name:t,data:a},this.option={},this}new(...t){return new n(...t)}}const r=new n;export{n as TextStream,r as textstream};
