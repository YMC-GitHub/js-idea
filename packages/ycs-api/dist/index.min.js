/**
  * ycsApi v1.0.0
  * (c) 2018-2022 ymc
  * @license MIT
  */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).ycsApi={})}(this,(function(n){"use strict";function e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function t(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function r(n,e){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,e){if(n){if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){r&&(n=r);var o=0,i=function(){};return{s:i,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,s=!0,a=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return s=n.done,n},e:function(n){a=!0,u=n},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw u}}}}var o=function(n){return!!["true",!0].includes(n)||!["false",!1].includes(n)&&(Number(n)?Number(n):n)},i=console.log,u=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.option={helpmsg:"usage:ns option",argvIndexS:2,enbaleSubCmd:!1,subcmd:"",allowAutoSubCmd:!0,autoSubCmd:"",version:"1.0.0",ns:"ycs",enbaleSubNs:!1,subns:"",allowAutoSubNs:!0,autoSubNs:""}}var t,u,s;return t=n,u=[{key:"ns",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ns";return this.option.ns=n,this}},{key:"version",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1.0.0";return this.option.version=n,this}},{key:"entry",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.option.entrys=n,this}},{key:"autosubcmd",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.option.autoSubCmd=n,this}},{key:"autosubns",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.option.autoSubNs=n,this}},{key:"nanoparse",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.option.nanoparse=n,this}},{key:"run",value:function(n){var e=this.option,t=e.entrys,u=e.helpmsg,s=e.argvIndexS,a=e.enbaleSubCmd,l=e.subcmd,c=e.allowAutoSubCmd,f=e.autoSubCmd,v=e.version,d=e.ns,p=e.enbaleSubNs,b=e.subns,h=e.allowAutoSubNs,y=e.autoSubNs;!p&&h&&y&&(p=(y=Array.isArray(y)?y:y.split("|")).includes(n[s])),p&&(b=n[s],s++,u=u.replace(/option$/,"subns option")),!a&&c&&f&&(a=(f=Array.isArray(f)?f:f.split("|")).includes(n[s])),a&&(l=n[s],s++,u=u.replace(/option$/,"subcmd option"));var g=t;if(u=t.usage,p&&b){if(!g[b])return i("".concat(u)),void i("todo:subns:".concat(b));u=g[b].usage?g[b].usage:u,v=g[b].version?g[b].version:v,g=g[b]?g[b]:function(){}}if(a&&l){if(!g[l])return i("".concat(u)),void i("todo:subcmd:".concat(l));u=g[l].usage?g[l].usage:u,v=g[l].version?g[l].version:v,g=g[l]?g[l]:function(){}}var m=n.length<=s;if(t.enableZeroOption&&(m=n.length<s),g.enableZeroOption&&(m=n.length<s),m)return i("".concat(u)),void i("error:invalid argv length");var S=function(n){var e=[],t=n,i=[];n.includes("--")&&(e=n.slice(n.indexOf("--")+1),t=n.slice(0,n.indexOf("--")));for(var u=[],s=function(n){var e=t[n-1],o=t[n],s=t[n+1],a=s&&!/^--.+/.test(s)&&!/^-.+/.test(s),l=function(n){u.push([n,!a||s])};if(/^--.+=/.test(o)||/^-.=/.test(o))u.push(o.split("="));else if(/^-[^-].*/.test(o)){var c=o;if(c.includes("=")){var f=c.indexOf("=");u.push([c.slice(f-1,f),c.slice(f+1,f+2)]),c=c.slice(0,f-1)+c.slice(f+2)}var v,d=r(c.slice(1).split("").slice(0,-1));try{for(d.s();!(v=d.n()).done;){var p=v.value;u.push([p,!0])}}catch(n){d.e(n)}finally{d.f()}l(c[c.length-1])}else if(/^--.+/.test(o)||/^-.+/.test(o))l(o);else{var b=u.find((function(n){return n[0]===e}));if(!b&&/^-./.test(e)){var h=e[e.length-1];b=u.find((function(n){return n[0]===h}))}b||i.push(o)}},a=0;a<t.length;a++)s(a);for(var l={},c=0,f=u;c<f.length;c++){var v=f[c],d=v[0].replace(/^-{1,2}/g,""),p=v[1];d.startsWith("no-")&&[void 0,!0].includes(p)&&(d=d.slice(3),p=!1),l[d]=o(p)}return{flags:l,_:i.map((function(n){return o(n)})),extras:e.map((function(n){return o(n)}))}}(n.slice(s)),A=S.flags;if((A.debugArgs||A.da)&&i(S),A.version||A.v)i("".concat(d," version:").concat(v));else{if(!A.help&&!A.h)return t.notOnlyFlags||g.notOnlyFlags?g(S):g(A);i("".concat(u))}}}],u&&e(t.prototype,u),s&&e(t,s),Object.defineProperty(t,"prototype",{writable:!1}),n}();n.Ycs=u,Object.defineProperty(n,"__esModule",{value:!0})}));